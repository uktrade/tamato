{% extends "layouts/layout.jinja" %}

{% from "components/panel/macro.njk" import govukPanel %}
{% from "components/button/macro.njk" import govukButton %}

{% set page_title = "Edit " ~ object._meta.verbose_name %}

{% set described_object = object.get_described_object() %}

{% block beforeContent %}
  {{ govukBreadcrumbs({
    "items": [
      {"text": "Home", "href": url("index")},
      {"text": "Find and edit " ~ described_object._meta.verbose_name_plural, "href": described_object.get_url("list")},
      {"text": described_object._meta.verbose_name|capitalize ~ ": " ~ described_object|string, "href": described_object.get_url()},
      {"text": page_title}
    ]
  }) }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <span class="govuk-caption-l">Confirmation</span>
      <h1 class="govuk-heading-xl">{{ page_title }}</h1>
      
      {{ govukPanel({
        "titleText": "Description of " ~ described_object._meta.verbose_name ~ " " ~ described_object|string ~ " has been updated",
        "text": "This change has been added to your tariff changes",
        "classes": "govuk-!-margin-bottom-7"
      }) }}

      <h2 class="govuk-heading-m">Next steps</h2>
      <p class="govuk-body">To complete your task you must publish your change. </p>
      {{ govukButton({
        "text": "Go to your tariff changes",
        "href": url("index"),
        "classes": "govuk-button--secondary"
      }) }}
      <ul class="govuk-list govuk-list-spaced">
        <li><a class="govuk-link" href="{{ object.get_url() }}">View {{ described_object._meta.verbose_name }} {{ described_object|string }}</a></li>
        <li><a class="govuk-link" href="{{ object.get_url("list") }}">Manage more {{ described_object._meta.verbose_name_plural }}</a></li>
        <li><a class="govuk-link" href="{{ url("index") }}">Return to main menu</a></li>
      </ul>
    </div>
  </div>
{% endblock %}
