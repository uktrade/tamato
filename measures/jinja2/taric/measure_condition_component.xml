{%- from "macros/record.xml" import standard_record -%}

{%- call standard_record(message_counter(), sequence(), transaction_id, record) %}
    <oub:measure.condition.component>
      <oub:measure.condition.sid>{{ record.condition.sid }}</oub:measure.condition.sid>
      <oub:duty.expression.id>{{ "%0d2" | format(record.duty_expression.sid) }}</oub:duty.expression.id>
      {%- if record.duty_amount %}
      <oub:duty.amount>{{ record.duty_amount }}</oub:duty.amount>
      {%- if record.monetary_unit_code %}
      <oub:monetary.unit.code>{{ record.monetary_unit.code }}</oub:monetary.unit.code>
      {%- if record.condition_component_measurement %}
      <oub:measurement.unit.code>{{ record.condition_component_measurement.measurement_unit.code }}</oub:measurement.unit.code>
      {%- if record.condition_component_measurement and record.condition_component_measurement.measurement_unit_qualifier %}
      <oub:measurement.unit.qualifier.code>{{ record.condition_component_measurement.measurement_unit_qualifier.code }}</oub:measurement.unit.qualifier.code>
    </oub:measure.condition.component>
{% endcall -%}
